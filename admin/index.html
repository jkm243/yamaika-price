<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ-панель - Прайс-лист</title>
    <link rel="stylesheet" href="../css/admin.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-cogs"></i> Админ-панель</h2>
            </div>
            <nav class="sidebar-nav">
                <a href="#products" class="nav-item active">
                    <i class="fas fa-box"></i>
                    <span>Товары и цены</span>
                </a>
                <a href="#categories" class="nav-item">
                    <i class="fas fa-tags"></i>
                    <span>Категории</span>
                </a>
                <a href="../" class="nav-item">
                    <i class="fas fa-eye"></i>
                    <span>Просмотр сайта</span>
                </a>
            </nav>
        </aside>

        <main class="admin-main">
            <header class="admin-header">
                <h1>Управление прайс-листом</h1>
                <button class="btn btn-primary" onclick="saveAllChanges()">
                    <i class="fas fa-save"></i> Сохранить все изменения
                </button>
            </header>

            <section id="productsSection" class="content-section">
                <div class="section-header">
                    <h2>Товары и цены</h2>
                    <div class="section-actions">
                        <select id="categoryFilter" onchange="filterByCategory()">
                            <option value="">Все категории</option>
                        </select>
                        <button class="btn btn-success" onclick="showAddProductModal()">
                            <i class="fas fa-plus"></i> Добавить товар
                        </button>
                    </div>
                </div>

                <div class="products-admin-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Название</th>
                                <th>Категория</th>
                                <th>1шт</th>
                                <th>10шт</th>
                                <th>50шт</th>
                                <th>100шт</th>
                                <th>200шт</th>
                                <th>300шт</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody id="adminProductsTable">
                            <tr>
                                <td colspan="9" class="no-data">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    <p>Загрузка данных...</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal pour ajouter/modifier un produit -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Добавить товар</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-group">
                        <label>Название товара *:</label>
                        <input type="text" id="productName" required placeholder="Введите название товара">
                    </div>
                    
                    <div class="form-group">
                        <label>Категория *:</label>
                        <select id="productCategory" required>
                            <option value="">Выберите категорию</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Описание:</label>
                        <textarea id="productDescription" rows="3" placeholder="Описание товара (необязательно)"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Примечания:</label>
                        <textarea id="productNotes" rows="2" placeholder="Дополнительные примечания"></textarea>
                    </div>
                    
                    <h4>Цены</h4>
                    <div class="price-grid">
                        <div class="form-group">
                            <label>Цена за 1шт:</label>
                            <input type="number" id="price1" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 10шт:</label>
                            <input type="number" id="price10" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 50шт:</label>
                            <input type="number" id="price50" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 100шт:</label>
                            <input type="number" id="price100" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 200шт:</label>
                            <input type="number" id="price200" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 300шт:</label>
                            <input type="number" id="price300" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 400шт:</label>
                            <input type="number" id="price400" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 500шт:</label>
                            <input type="number" id="price500" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Цена за 1000шт:</label>
                            <input type="number" id="price1000" step="0.01" min="0" placeholder="0.00">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Минимальный заказ:</label>
                            <input type="number" id="minOrder" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label>Срок производства (дни):</label>
                            <input type="number" id="productionDays" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label>Валюта:</label>
                            <select id="priceUnit">
                                <option value="р">Рубли (р)</option>
                                <option value="€">Евро (€)</option>
                                <option value="$">Доллары ($)</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">Отмена</button>
                <button type="button" class="btn btn-primary" onclick="saveProduct()">
                    <i class="fas fa-save"></i> Сохранить
                </button>
            </div>
        </div>
    </div>

    <script src="../js/admin.js"></script>
</body>
</html>